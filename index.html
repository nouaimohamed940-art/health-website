<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام إدارة القوى العاملة الصحية</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <i class="fas fa-hospital"></i>
            </div>
            <div class="loading-text">نظام إدارة القوى العاملة الصحية</div>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-hospital"></i>
                </div>
                <div class="logo-text">
                    <h1>الصحة القابضة</h1>
                    <p>نظام إدارة القوى العاملة الصحية</p>
                </div>
            </div>
            <div class="header-info">
                <div class="hospital-info">
                    <i class="fas fa-building"></i>
                    <span>مستشفى الملك فهد التخصصي</span>
                </div>
                <div class="center-info">
                    <i class="fas fa-users"></i>
                    <span>مركز الطب الباطني</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="#" class="nav-item active" data-page="dashboard">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </a>
            <a href="#" class="nav-item" data-page="data-entry">
                <i class="fas fa-edit"></i>
                <span>إدخال البيانات</span>
            </a>
            <a href="#" class="nav-item" data-page="approval">
                <i class="fas fa-check-circle"></i>
                <span>الاعتماد</span>
            </a>
            <a href="#" class="nav-item" data-page="reports">
                <i class="fas fa-chart-bar"></i>
                <span>التقارير</span>
            </a>
            <a href="#" class="nav-item" data-page="users">
                <i class="fas fa-users-cog"></i>
                <span>إدارة المستخدمين</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="card-content">
                        <h3>الموظفين المسجلين</h3>
                        <div class="card-number">245</div>
                        <div class="card-subtitle">إجمالي القوى العاملة</div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="card-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="card-content">
                        <h3>الحضور اليوم</h3>
                        <div class="card-number">230</div>
                        <div class="card-subtitle">93.9% من إجمالي الموظفين</div>
                        <div class="card-change positive">
                            <i class="fas fa-arrow-up"></i>
                            +5% عن أمس
                        </div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="card-icon">
                        <i class="fas fa-user-times"></i>
                    </div>
                    <div class="card-content">
                        <h3>الغياب اليوم</h3>
                        <div class="card-number">15</div>
                        <div class="card-subtitle">6.1% من إجمالي الموظفين</div>
                        <div class="card-change negative">
                            <i class="fas fa-arrow-down"></i>
                            -2% عن أمس
                        </div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="card-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="card-content">
                        <h3>تنقلات هذا الأسبوع</h3>
                        <div class="card-number">5</div>
                        <div class="card-subtitle">تنقلات نشطة</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Widgets -->
            <div class="widgets-grid">
                <!-- Sick Leave Frequency Widget -->
                <div class="widget sick-leave-widget">
                    <div class="widget-header">
                        <div class="widget-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <div class="widget-title">تكرار الغياب المرضي</div>
                    </div>
                    <div class="widget-content">
                        <div class="widget-number">7</div>
                        <div class="widget-subtitle">موظفين يحتاجون متابعة</div>
                        <div class="widget-chart">
                            <div class="chart-bar" style="height: 60%"></div>
                            <div class="chart-bar" style="height: 80%"></div>
                            <div class="chart-bar" style="height: 40%"></div>
                            <div class="chart-bar" style="height: 90%"></div>
                            <div class="chart-bar" style="height: 70%"></div>
                        </div>
                    </div>
                    <button class="widget-button">
                        <i class="fas fa-eye"></i>
                        عرض التفاصيل
                    </button>
                </div>

                <!-- Delegation and Scholarship Widget -->
                <div class="widget delegation-widget">
                    <div class="widget-header">
                        <div class="widget-icon">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                        <div class="widget-title">الإيفاد والابتعاث</div>
                    </div>
                    <div class="widget-content">
                        <div class="widget-number">12</div>
                        <div class="widget-details">
                            <div class="detail-item">
                                <div class="detail-number">12</div>
                                <div class="detail-label">إيفاد نشط</div>
                            </div>
                            <div class="detail-item new">
                                <div class="detail-number">3</div>
                                <div class="detail-label">ابتعاث جديد</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Leaves Widget -->
                <div class="widget leaves-widget">
                    <div class="widget-header">
                        <div class="widget-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="widget-title">الإجازات الحالية</div>
                    </div>
                    <div class="widget-content">
                        <div class="leaves-grid">
                            <div class="leave-type exceptional">
                                <div class="leave-number">8</div>
                                <div class="leave-label">إجازات استثنائية</div>
                            </div>
                            <div class="leave-type maternity">
                                <div class="leave-number">3</div>
                                <div class="leave-label">إجازات أمومة</div>
                            </div>
                            <div class="leave-type annual">
                                <div class="leave-number">12</div>
                                <div class="leave-label">إجازات سنوية</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Latest Activities Section -->
            <div class="activities-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-clock"></i>
                        آخر النشاطات
                    </h2>
                    <button class="view-all-btn">
                        <i class="fas fa-arrow-left"></i>
                        عرض الكل
                    </button>
                </div>
                <div class="activities-list">
                    <div class="activity-item">
                        <div class="activity-avatar">
                            <span>أ</span>
                        </div>
                        <div class="activity-content">
                            <div class="activity-name">أحمد محمد علي</div>
                            <div class="activity-type">إجازة استثنائية</div>
                        </div>
                        <div class="activity-status">
                            <span class="status-badge pending">
                                <i class="fas fa-clock"></i>
                                معلق
                            </span>
                            <span class="activity-time">منذ ساعتين</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-avatar">
                            <span>ف</span>
                        </div>
                        <div class="activity-content">
                            <div class="activity-name">فاطمة أحمد</div>
                            <div class="activity-type">تنقل إلى قسم الطوارئ</div>
                        </div>
                        <div class="activity-status">
                            <span class="status-badge approved">
                                <i class="fas fa-check"></i>
                                معتمد
                            </span>
                            <span class="activity-time">منذ 3 ساعات</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-avatar">
                            <span>م</span>
                        </div>
                        <div class="activity-content">
                            <div class="activity-name">محمد عبدالله</div>
                            <div class="activity-type">غياب مرضي</div>
                        </div>
                        <div class="activity-status">
                            <span class="status-badge approved">
                                <i class="fas fa-check"></i>
                                معتمد
                            </span>
                            <span class="activity-time">اليوم</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Export Buttons -->
            <div class="export-section">
                <h3 class="export-title">تصدير التقارير</h3>
                <div class="export-buttons">
                    <button class="export-btn primary" onclick="exportReport('daily')">
                        <i class="fas fa-download"></i>
                        <span>تقرير يومي</span>
                    </button>
                    <button class="export-btn secondary" onclick="exportReport('weekly')">
                        <i class="fas fa-download"></i>
                        <span>تقرير أسبوعي</span>
                    </button>
                    <button class="export-btn secondary" onclick="exportReport('monthly')">
                        <i class="fas fa-download"></i>
                        <span>تقرير شهري</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Data Entry Page -->
        <div id="data-entry" class="page">
            <div class="page-header">
                <h2 class="page-title">
                    <i class="fas fa-edit"></i>
                    إدخال البيانات
                </h2>
                <p class="page-subtitle">أدخل بيانات الموظفين والحركات اليومية</p>
            </div>
            <div class="form-container">
                <form id="dataEntryForm" class="data-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName">
                                <i class="fas fa-user"></i>
                                الاسم الكامل
                            </label>
                            <input type="text" id="fullName" name="fullName" required placeholder="أدخل الاسم الكامل">
                        </div>
                        <div class="form-group">
                            <label for="jobTitle">
                                <i class="fas fa-briefcase"></i>
                                المسمى الوظيفي
                            </label>
                            <input type="text" id="jobTitle" name="jobTitle" required placeholder="أدخل المسمى الوظيفي">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="movementType">
                                <i class="fas fa-exchange-alt"></i>
                                نوع الحركة
                            </label>
                            <select id="movementType" name="movementType" required>
                                <option value="">اختر نوع الحركة</option>
                                <option value="absence">غياب</option>
                                <option value="leave">إجازة</option>
                                <option value="delegation">إيفاد</option>
                                <option value="assignment">تكليف</option>
                                <option value="scholarship">ابتعاث</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="date">
                                <i class="fas fa-calendar"></i>
                                التاريخ
                            </label>
                            <input type="date" id="date" name="date" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="notes">
                            <i class="fas fa-sticky-note"></i>
                            ملاحظات إضافية
                        </label>
                        <textarea id="notes" name="notes" placeholder="أدخل أي ملاحظات إضافية..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            حفظ البيانات
                        </button>
                        <button type="reset" class="btn btn-secondary">
                            <i class="fas fa-undo"></i>
                            إعادة تعيين
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Approval Page -->
        <div id="approval" class="page">
            <div class="page-header">
                <h2 class="page-title">
                    <i class="fas fa-check-circle"></i>
                    صفحة الاعتماد
                </h2>
                <p class="page-subtitle">مراجعة واعتماد الطلبات المرسلة من المراكز</p>
            </div>
            <div class="table-container">
                <div class="table-header">
                    <div class="table-actions">
                        <button class="btn btn-primary">
                            <i class="fas fa-filter"></i>
                            فلترة
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-download"></i>
                            تصدير
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>الموظف</th>
                                <th>نوع الحركة</th>
                                <th>المركز</th>
                                <th>المستشفى</th>
                                <th>الحالة</th>
                                <th>التاريخ</th>
                                <th>الإجراء</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <div class="employee-avatar">أ</div>
                                        <div class="employee-details">
                                            <div class="employee-name">أحمد محمد علي</div>
                                            <div class="employee-id">ID: 12345</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="movement-type leave">إجازة استثنائية</span>
                                </td>
                                <td>مركز الطب الباطني</td>
                                <td>مستشفى الملك فهد</td>
                                <td>
                                    <span class="status-badge pending">
                                        <i class="fas fa-clock"></i>
                                        معلق
                                    </span>
                                </td>
                                <td>2024-01-15</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-success btn-sm" onclick="approveRequest(1)">
                                            <i class="fas fa-check"></i>
                                            اعتماد
                                        </button>
                                        <button class="btn btn-danger btn-sm" onclick="rejectRequest(1)">
                                            <i class="fas fa-times"></i>
                                            رفض
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <div class="employee-avatar">ف</div>
                                        <div class="employee-details">
                                            <div class="employee-name">فاطمة أحمد</div>
                                            <div class="employee-id">ID: 12346</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="movement-type transfer">تنقل</span>
                                </td>
                                <td>مركز الطوارئ</td>
                                <td>مستشفى الملك فهد</td>
                                <td>
                                    <span class="status-badge pending">
                                        <i class="fas fa-clock"></i>
                                        معلق
                                    </span>
                                </td>
                                <td>2024-01-15</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-success btn-sm" onclick="approveRequest(2)">
                                            <i class="fas fa-check"></i>
                                            اعتماد
                                        </button>
                                        <button class="btn btn-danger btn-sm" onclick="rejectRequest(2)">
                                            <i class="fas fa-times"></i>
                                            رفض
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reports Page -->
        <div id="reports" class="page">
            <div class="page-header">
                <h2 class="page-title">
                    <i class="fas fa-chart-bar"></i>
                    التقارير
                </h2>
                <p class="page-subtitle">إنشاء وتصدير التقارير الإحصائية</p>
            </div>
            <div class="reports-container">
                <div class="reports-filters">
                    <form id="reportsForm" class="filters-form">
                        <div class="filter-row">
                            <div class="form-group">
                                <label for="reportType">
                                    <i class="fas fa-chart-line"></i>
                                    نوع التقرير
                                </label>
                                <select id="reportType" name="reportType" required>
                                    <option value="">اختر نوع التقرير</option>
                                    <option value="daily">تقرير يومي</option>
                                    <option value="weekly">تقرير أسبوعي</option>
                                    <option value="monthly">تقرير شهري</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="hospital">
                                    <i class="fas fa-building"></i>
                                    المستشفى
                                </label>
                                <select id="hospital" name="hospital">
                                    <option value="">جميع المستشفيات</option>
                                    <option value="hospital-a">مستشفى A</option>
                                    <option value="hospital-b">مستشفى B</option>
                                    <option value="hospital-c">مستشفى C</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="form-group">
                                <label for="center">
                                    <i class="fas fa-users"></i>
                                    المركز
                                </label>
                                <select id="center" name="center">
                                    <option value="">جميع المراكز</option>
                                    <option value="internal-medicine">مركز الطب الباطني</option>
                                    <option value="emergency">مركز الطوارئ</option>
                                    <option value="surgery">مركز الجراحة</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="dateFrom">
                                    <i class="fas fa-calendar"></i>
                                    من تاريخ
                                </label>
                                <input type="date" id="dateFrom" name="dateFrom">
                            </div>
                            <div class="form-group">
                                <label for="dateTo">
                                    <i class="fas fa-calendar"></i>
                                    إلى تاريخ
                                </label>
                                <input type="date" id="dateTo" name="dateTo">
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-search"></i>
                                عرض التقرير
                            </button>
                            <button type="button" class="btn btn-success" onclick="exportToExcel()">
                                <i class="fas fa-file-excel"></i>
                                تصدير Excel
                            </button>
                            <button type="button" class="btn btn-danger" onclick="exportToPDF()">
                                <i class="fas fa-file-pdf"></i>
                                تصدير PDF
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- User Management Page -->
        <div id="users" class="page">
            <div class="page-header">
                <h2 class="page-title">
                    <i class="fas fa-users-cog"></i>
                    إدارة المستخدمين
                </h2>
                <p class="page-subtitle">إدارة صلاحيات المستخدمين والمراكز</p>
            </div>
            <div class="table-container">
                <div class="table-header">
                    <button class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        إضافة مستخدم
                    </button>
                    <div class="table-actions">
                        <button class="btn btn-secondary">
                            <i class="fas fa-filter"></i>
                            فلترة
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-download"></i>
                            تصدير
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>الاسم</th>
                                <th>المسمى الوظيفي</th>
                                <th>المركز/المستشفى</th>
                                <th>نوع المستخدم</th>
                                <th>الحالة</th>
                                <th>الإجراءات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <div class="employee-avatar">أ</div>
                                        <div class="employee-details">
                                            <div class="employee-name">أحمد محمد</div>
                                            <div class="employee-id">ahmed@hospital.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>مدير مركز</td>
                                <td>مركز الطب الباطني</td>
                                <td>
                                    <span class="user-type center-manager">مدير مركز</span>
                                </td>
                                <td>
                                    <span class="status-badge active">
                                        <i class="fas fa-check-circle"></i>
                                        نشط
                                    </span>
                                </td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-primary btn-sm">
                                            <i class="fas fa-edit"></i>
                                            تعديل
                                        </button>
                                        <button class="btn btn-danger btn-sm">
                                            <i class="fas fa-trash"></i>
                                            حذف
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <div class="employee-avatar">ف</div>
                                        <div class="employee-details">
                                            <div class="employee-name">فاطمة أحمد</div>
                                            <div class="employee-id">fatima@hospital.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>مشرف مستشفى</td>
                                <td>مستشفى الملك فهد</td>
                                <td>
                                    <span class="user-type supervisor">مشرف</span>
                                </td>
                                <td>
                                    <span class="status-badge active">
                                        <i class="fas fa-check-circle"></i>
                                        نشط
                                    </span>
                                </td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-primary btn-sm">
                                            <i class="fas fa-edit"></i>
                                            تعديل
                                        </button>
                                        <button class="btn btn-danger btn-sm">
                                            <i class="fas fa-trash"></i>
                                            حذف
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <div class="employee-avatar">م</div>
                                        <div class="employee-details">
                                            <div class="employee-name">محمد عبدالله</div>
                                            <div class="employee-id">mohamed@hospital.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>مدير النظام</td>
                                <td>جميع المستشفيات</td>
                                <td>
                                    <span class="user-type super-user">سوبر يوزر</span>
                                </td>
                                <td>
                                    <span class="status-badge active">
                                        <i class="fas fa-check-circle"></i>
                                        نشط
                                    </span>
                                </td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-primary btn-sm">
                                            <i class="fas fa-edit"></i>
                                            تعديل
                                        </button>
                                        <button class="btn btn-danger btn-sm">
                                            <i class="fas fa-trash"></i>
                                            حذف
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- Notification Toast -->
    <div id="notification" class="notification">
        <div class="notification-content">
            <i class="notification-icon"></i>
            <span class="notification-message"></span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
